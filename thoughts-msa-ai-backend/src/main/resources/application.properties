# Application Configuration
quarkus.application.name=thoughts-service

# Database Configuration
quarkus.datasource.db-kind=postgresql
%dev.quarkus.datasource.devservices.enabled=true
%test.quarkus.datasource.devservices.enabled=true
%prod.quarkus.datasource.username=${QUARKUS_DATASOURCE_USERNAME}
%prod.quarkus.datasource.password=${QUARKUS_DATASOURCE_PASSWORD}
%prod.quarkus.datasource.jdbc.url=${QUARKUS_DATASOURCE_JDBC_URL}

# Hibernate Configuration
%dev.quarkus.hibernate-orm.database.generation=drop-and-create

# Kafka Configuration
quarkus.kafka.devservices.enabled=true
mp.messaging.outgoing.thoughts-events.topic=thoughts.events
mp.messaging.outgoing.thoughts-events.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer
#%dev.kafka.bootstrap.servers=localhost:9092
%test.quarkus.kafka.devservices.enabled=true
%prod.kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS}

# LLM Configuration
llm.endpoint.url=${LLM_ENDPOINT_URL:http://localhost:8080/v1/embeddings}
llm.enabled=true
%dev.llm.endpoint.url=http://localhost:8080/v1/embeddings
%test.llm.enabled=false
%prod.llm.endpoint.url=${LLM_ENDPOINT_URL}

# Evaluation Configuration
evaluation.similarity.threshold=${EVALUATION_SIMILARITY_THRESHOLD:0.85}

# Logging Configuration
quarkus.log.console.json=true
%dev.quarkus.log.console.json=false
%test.quarkus.log.console.json=false

# Kubernetes/OpenShift Configuration
quarkus.kubernetes.deployment-target=openshift
quarkus.openshift.labels."app.kubernetes.io/name"=thoughts-service
quarkus.openshift.labels."app.kubernetes.io/version"=1.0.0
quarkus.openshift.labels."app.openshift.io/runtime"=quarkus

# Resource Limits
quarkus.openshift.resources.requests.memory=256Mi
quarkus.openshift.resources.requests.cpu=250m
quarkus.openshift.resources.limits.memory=512Mi
quarkus.openshift.resources.limits.cpu=500m

# Health Checks
quarkus.openshift.liveness-probe.http-action-path=/q/health/live
quarkus.openshift.liveness-probe.initial-delay=30s
quarkus.openshift.liveness-probe.period=10s

quarkus.openshift.readiness-probe.http-action-path=/q/health/ready
quarkus.openshift.readiness-probe.initial-delay=10s
quarkus.openshift.readiness-probe.period=5s

# Container Image
quarkus.container-image.build=true
quarkus.container-image.group=redhat-demos
quarkus.container-image.name=thoughts-service
quarkus.container-image.tag=latest

# CORS Configuration
quarkus.http.cors=false
%dev.quarkus.http.cors=true
%dev.quarkus.http.cors.origins=http://localhost:3000,http://localhost:3001,http://localhost:3002
%dev.quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
%dev.quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
%dev.quarkus.http.cors.access-control-max-age=24H

# Hibernate Configuration
quarkus.hibernate-orm.database.generation=drop-and-create
%prod.quarkus.hibernate-orm.database.generation=none

%dev.quarkus.hibernate-orm.dev-ui.allow-hql=true
